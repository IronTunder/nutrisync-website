<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aiuto e FAQ - NutriSync</title>
    <link rel="stylesheet" href="assets/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
    <style>
        /* Stili specifici per l'accordion in help.html */
        .faq-answer {
            display: none;
            padding: 0;
            overflow: hidden;
            transition: all 0.3s ease;
        }

        .faq-answer.show {
            display: block;
            padding: 1.5rem;
        }

        /* Assicurati che lo stile originale non interferisca */
        .faq-answer.active {
            display: block !important;
            padding: 1.5rem !important;
            max-height: none !important;
        }
    </style>
</head>
<body>
<!-- Navbar -->
<nav class="navbar">
    <div class="container">
        <div class="nav-brand">
            <a href="index.html" class="logo">
                <i class="fas fa-apple-alt" style="color: #4CAF50; margin-right: 10px;"></i>
                <span>NutriSync</span>
            </a>
        </div>
        <div class="nav-menu">
            <a href="index.html" class="nav-link">Home</a>
            <a href="help.html" class="nav-link active">Aiuto</a>
            <a href="privacy.html" class="nav-link">Privacy</a>
            <a href="terms.html" class="nav-link">Termini</a>
            <a href="contact.html" class="nav-link">Contatti</a>
        </div>
        <button class="menu-toggle">
            <i class="fas fa-bars"></i>
        </button>
    </div>
</nav>

<!-- Help Content -->
<section class="section help-page">
    <div class="container">
        <div class="help-header">
            <h1>Aiuto e Domande Frequenti</h1>
            <p class="subtitle">Troviamo insieme le risposte alle tue domande</p>
        </div>

        <div class="search-section">
            <div class="search-box">
                <i class="fas fa-search"></i>
                <input type="text" id="faqSearch" placeholder="Cerca tra le domande frequenti...">
                <button class="search-btn" id="searchBtn">Cerca</button>
            </div>
        </div>

        <div class="help-categories">
            <div class="category-nav">
                <button class="category-btn active" data-category="all">Tutte le FAQ</button>
                <button class="category-btn" data-category="account">Account</button>
                <button class="category-btn" data-category="features">Funzionalità</button>
                <button class="category-btn" data-category="technical">Problemi Tecnici</button>
                <button class="category-btn" data-category="privacy">Privacy e Sicurezza</button>
            </div>
        </div>

        <div class="faq-container">
            <!-- Account FAQ -->
            <div class="faq-category" id="account">
                <h2><i class="fas fa-user-circle"></i> Account e Registrazione</h2>

                <div class="faq-item">
                    <button class="faq-question">
                        <span>Come creo un account su NutriSync?</span>
                        <i class="fas fa-chevron-down"></i>
                    </button>
                    <div class="faq-answer">
                        <p>
                            Per creare un account su NutriSync:
                        </p>
                        <ol>
                            <li>Apri l'app NutriSync sul tuo dispositivo Android</li>
                            <li>Tocca "Registrati" o "Crea Account"</li>
                            <li>Inserisci il tuo indirizzo email e scegli una password sicura</li>
                            <li>Completa il tuo profilo con le informazioni richieste</li>
                            <li>Conferma la tua email seguendo il link che riceverai</li>
                        </ol>
                    </div>
                </div>

                <div class="faq-item">
                    <button class="faq-question">
                        <span>Ho dimenticato la password, cosa devo fare?</span>
                        <i class="fas fa-chevron-down"></i>
                    </button>
                    <div class="faq-answer">
                        <p>
                            Se hai dimenticato la password:
                        </p>
                        <ol>
                            <li>Nella schermata di login, tocca "Password dimenticata"</li>
                            <li>Inserisci l'email associata al tuo account</li>
                            <li>Controlla la tua posta elettronica e segui il link di reset</li>
                            <li>Crea una nuova password seguendo le indicazioni</li>
                        </ol>
                    </div>
                </div>

                <div class="faq-item">
                    <button class="faq-question">
                        <span>Come elimino il mio account?</span>
                        <i class="fas fa-chevron-down"></i>
                    </button>
                    <div class="faq-answer">
                        <p>
                            Per eliminare il tuo account:
                        </p>
                        <ol>
                            <li>Vai su "Impostazioni" nell'app</li>
                            <li>Seleziona "Account"</li>
                            <li>Tocca "Elimina Account"</li>
                            <li>Segui le istruzioni per confermare l'eliminazione</li>
                        </ol>
                        <p class="warning">
                            <i class="fas fa-exclamation-triangle"></i>
                            Attenzione: l'eliminazione dell'account è permanente e tutti i tuoi dati verranno cancellati.
                        </p>
                    </div>
                </div>
            </div>

            <!-- Features FAQ -->
            <div class="faq-category" id="features">
                <h2><i class="fas fa-star"></i> Funzionalità dell'App</h2>

                <div class="faq-item">
                    <button class="faq-question">
                        <span>Come aggiungo un pasto al diario?</span>
                        <i class="fas fa-chevron-down"></i>
                    </button>
                    <div class="faq-answer">
                        <p>
                            Per aggiungere un pasto:
                        </p>
                        <ol>
                            <li>Apri la sezione "Diario" dall'app</li>
                            <li>Tocca il pulsante "+" o "Aggiungi pasto"</li>
                            <li>Seleziona il tipo di pasto (colazione, pranzo, cena, spuntino)</li>
                            <li>Inserisci i dettagli del pasto (alimenti, quantità)</li>
                            <li>L'app calcolerà automaticamente i valori nutrizionali</li>
                            <li>Tocca "Salva" per aggiungere il pasto al diario</li>
                        </ol>
                    </div>
                </div>

                <div class="faq-item">
                    <button class="faq-question">
                        <span>Come attivo le notifiche promemoria?</span>
                        <i class="fas fa-chevron-down"></i>
                    </button>
                    <div class="faq-answer">
                        <p>
                            Per attivare le notifiche:
                        </p>
                        <ol>
                            <li>Vai su "Impostazioni"</li>
                            <li>Seleziona "Notifiche"</li>
                            <li>Attiva l'interruttore "Notifiche"</li>
                            <li>Tocca "Orario notifiche" per scegliere l'orario preferito</li>
                            <li>Assicurati che le notifiche dell'app siano abilitate nelle impostazioni del dispositivo</li>
                        </ol>
                    </div>
                </div>

                <div class="faq-item">
                    <button class="faq-question">
                        <span>Come cambio tra tema chiaro e scuro?</span>
                        <i class="fas fa-chevron-down"></i>
                    </button>
                    <div class="faq-answer">
                        <p>
                            Per cambiare il tema dell'app:
                        </p>
                        <ol>
                            <li>Vai su "Impostazioni"</li>
                            <li>Seleziona "Aspetto"</li>
                            <li>Attiva/disattiva "Modalità scura" per il tema manuale</li>
                            <li>Oppure attiva "Segui sistema" per adattarsi automaticamente</li>
                        </ol>
                        <p>
                            <i class="fas fa-lightbulb"></i>
                            Suggerimento: il tema si applica immediatamente senza bisogno di riavviare l'app.
                        </p>
                    </div>
                </div>
            </div>

            <!-- Technical FAQ -->
            <div class="faq-category" id="technical">
                <h2><i class="fas fa-tools"></i> Problemi Tecnici</h2>

                <div class="faq-item">
                    <button class="faq-question">
                        <span>L'app si blocca o crasha, cosa posso fare?</span>
                        <i class="fas fa-chevron-down"></i>
                    </button>
                    <div class="faq-answer">
                        <p>
                            Se l'app si blocca:
                        </p>
                        <ol>
                            <li><strong>Riavvia l'app:</strong> Chiudi completamente l'app e riaprila</li>
                            <li><strong>Aggiorna l'app:</strong> Verifica su Play Store se ci sono aggiornamenti</li>
                            <li><strong>Riavvia il dispositivo:</strong> Un riavvio del telefono può risolvere molti problemi</li>
                            <li><strong>Libera spazio:</strong> Assicurati di avere spazio di archiviazione sufficiente</li>
                            <li><strong>Reinstalla:</strong> Se il problema persiste, disinstalla e reinstalla l'app</li>
                        </ol>
                        <p>
                            Se il problema continua, contatta il nostro supporto.
                        </p>
                    </div>
                </div>

                <div class="faq-item">
                    <button class="faq-question">
                        <span>I dati non si sincronizzano correttamente</span>
                        <i class="fas fa-chevron-down"></i>
                    </button>
                    <div class="faq-answer">
                        <p>
                            Per problemi di sincronizzazione:
                        </p>
                        <ol>
                            <li>Verifica la connessione internet</li>
                            <li>Assicurati di essere loggato con l'account corretto</li>
                            <li>Controlla che l'app abbia i permessi necessari</li>
                            <li>Prova a fare logout e login</li>
                            <li>Forza la sincronizzazione manuale nelle impostazioni</li>
                        </ol>
                    </div>
                </div>
            </div>

            <!-- Privacy FAQ -->
            <div class="faq-category" id="privacy">
                <h2><i class="fas fa-shield-alt"></i> Privacy e Sicurezza</h2>

                <div class="faq-item">
                    <button class="faq-question">
                        <span>I miei dati sono sicuri?</span>
                        <i class="fas fa-chevron-down"></i>
                    </button>
                    <div class="faq-answer">
                        <p>
                            Sì, la sicurezza dei tuoi dati è la nostra priorità:
                        </p>
                        <ul>
                            <li>Tutti i dati sono crittografati in transito e a riposo</li>
                            <li>Utilizziamo protocolli di sicurezza avanzati</li>
                            <li>Non vendiamo mai i tuoi dati a terze parti</li>
                            <li>Puoi eliminare i tuoi dati in qualsiasi momento</li>
                        </ul>
                        <p>
                            Per maggiori dettagli, consulta la nostra <a href="privacy.html">Privacy Policy</a>.
                        </p>
                    </div>
                </div>

                <div class="faq-item">
                    <button class="faq-question">
                        <span>Come posso esportare i miei dati?</span>
                        <i class="fas fa-chevron-down"></i>
                    </button>
                    <div class="faq-answer">
                        <p>
                            Per esportare i tuoi dati:
                        </p>
                        <ol>
                            <li>Vai su "Impostazioni"</li>
                            <li>Seleziona "Privacy"</li>
                            <li>Tocca "Esporta dati"</li>
                            <li>Scegli il formato (JSON o CSV)</li>
                            <li>I dati saranno inviati alla tua email</li>
                        </ol>
                    </div>
                </div>
            </div>
        </div>

        <div class="contact-support">
            <div class="support-card">
                <div class="support-icon">
                    <i class="fas fa-headset"></i>
                </div>
                <h3>Non hai trovato quello che cercavi?</h3>
                <p>Il nostro team di supporto è pronto ad aiutarti</p>
                <a href="contact.html" class="btn-primary">
                    <i class="fas fa-envelope"></i> Contatta il Supporto
                </a>
            </div>
        </div>
    </div>
</section>

<!-- Footer -->
<footer class="footer">
    <div class="container">
        <div class="footer-grid">
            <div class="footer-col">
                <h3>NutriSync</h3>
                <p>L'app di tracking nutrizionale che ti aiuta a raggiungere i tuoi obiettivi di salute.</p>
            </div>
            <div class="footer-col">
                <h3>Supporto</h3>
                <ul>
                    <li><a href="help.html">Aiuto & FAQ</a></li>
                    <li><a href="contact.html">Contatta Supporto</a></li>
                    <li><a href="privacy.html">Privacy Policy</a></li>
                    <li><a href="terms.html">Termini di Servizio</a></li>
                </ul>
            </div>
            <div class="footer-col">
                <h3>Scarica</h3>
                <a href="https://play.google.com/store/apps/details?id=com.example.nutrisync" class="btn-download-small">
                    <i class="fab fa-google-play"></i> Google Play
                </a>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2026 NutriSync. Tutti i diritti riservati.</p>
        </div>
    </div>
</footer>

<!-- Non caricare assets/script.js per evitare conflitti -->
<script>
    // Script dedicato solo per help.html
    document.addEventListener('DOMContentLoaded', function() {
        console.log('Script help.html caricato');

        // Menu toggle per mobile (versione semplice)
        const menuToggle = document.querySelector('.menu-toggle');
        const navMenu = document.querySelector('.nav-menu');

        if (menuToggle && navMenu) {
            menuToggle.addEventListener('click', () => {
                console.log('Menu toggle cliccato');
                navMenu.classList.toggle('active');
            });

            // Chiudi menu quando si clicca un link
            document.querySelectorAll('.nav-link').forEach(link => {
                link.addEventListener('click', () => {
                    navMenu.classList.remove('active');
                });
            });
        }

        // Gestione accordion FAQ
        const faqQuestions = document.querySelectorAll('.faq-question');
        console.log('FAQ questions trovate:', faqQuestions.length);

        faqQuestions.forEach(question => {
            question.addEventListener('click', function(e) {
                e.preventDefault();
                e.stopPropagation();

                console.log('FAQ cliccata:', this.querySelector('span').textContent);

                const answer = this.nextElementSibling;
                const icon = this.querySelector('i');

                // Controlla se questa risposta è già aperta
                const isOpen = answer.classList.contains('active');

                // Chiudi tutte le risposte
                document.querySelectorAll('.faq-answer').forEach(ans => {
                    ans.classList.remove('active');
                });

                // Resetta tutte le icone
                document.querySelectorAll('.faq-question i').forEach(ico => {
                    ico.classList.remove('fa-chevron-up');
                    ico.classList.add('fa-chevron-down');
                });

                // Se non era aperta, aprilà ora
                if (!isOpen) {
                    answer.classList.add('active');
                    icon.classList.remove('fa-chevron-down');
                    icon.classList.add('fa-chevron-up');

                    // Scorri per mostrare la risposta (opzionale)
                    setTimeout(() => {
                        answer.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
                    }, 300);
                }
            });
        });

        // Filtro categorie
        const categoryButtons = document.querySelectorAll('.category-btn');
        const faqCategories = document.querySelectorAll('.faq-category');

        categoryButtons.forEach(button => {
            button.addEventListener('click', function() {
                const category = this.getAttribute('data-category');

                // Aggiorna il bottone attivo
                categoryButtons.forEach(btn => btn.classList.remove('active'));
                this.classList.add('active');

                // Mostra/nascondi categorie
                if (category === 'all') {
                    faqCategories.forEach(cat => {
                        cat.style.display = 'block';
                        // Mostra tutte le domande in questa categoria
                        cat.querySelectorAll('.faq-item').forEach(item => {
                            item.style.display = 'block';
                        });
                    });
                } else {
                    faqCategories.forEach(cat => {
                        if (cat.id === category) {
                            cat.style.display = 'block';
                            // Mostra tutte le domande in questa categoria
                            cat.querySelectorAll('.faq-item').forEach(item => {
                                item.style.display = 'block';
                            });
                        } else {
                            cat.style.display = 'none';
                        }
                    });
                }

                // Chiudi tutte le risposte quando si cambia categoria
                document.querySelectorAll('.faq-answer').forEach(answer => {
                    answer.classList.remove('active');
                });
                document.querySelectorAll('.faq-question i').forEach(icon => {
                    icon.classList.remove('fa-chevron-up');
                    icon.classList.add('fa-chevron-down');
                });
            });
        });

        // Funzionalità di ricerca
        const searchInput = document.getElementById('faqSearch');
        const searchButton = document.getElementById('searchBtn');

        if (searchButton) {
            searchButton.addEventListener('click', performSearch);
        }

        if (searchInput) {
            searchInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    performSearch();
                }
            });
        }

        function performSearch() {
            const searchTerm = searchInput.value.toLowerCase().trim();

            if (!searchTerm) {
                // Se la ricerca è vuota, mostra tutto
                document.querySelectorAll('.faq-item').forEach(item => {
                    item.style.display = 'block';
                });
                return;
            }

            // Mostra prima tutte le categorie
            faqCategories.forEach(cat => {
                cat.style.display = 'block';
            });

            // Cerca in tutte le FAQ
            let foundAny = false;
            document.querySelectorAll('.faq-item').forEach(item => {
                const questionElement = item.querySelector('.faq-question span');
                const questionText = questionElement ? questionElement.textContent.toLowerCase() : '';
                const answer = item.querySelector('.faq-answer');
                const answerText = answer ? answer.textContent.toLowerCase() : '';

                if (questionText.includes(searchTerm) || answerText.includes(searchTerm)) {
                    item.style.display = 'block';
                    foundAny = true;
                } else {
                    item.style.display = 'none';
                }
            });

            // Se non trova nulla, mostra un messaggio
            if (!foundAny) {
                alert('Nessun risultato trovato per: "' + searchTerm + '"');
                // Ripristina tutte le domande
                document.querySelectorAll('.faq-item').forEach(item => {
                    item.style.display = 'block';
                });
            }
        }

        // Chiudi tutte le risposte all'inizio
        document.querySelectorAll('.faq-answer').forEach(answer => {
            answer.classList.remove('active');
        });
    });
</script>
</body>
</html>